"use strict";const option1ColourEl=document.querySelector("#option-color-1"),option2ColourEl=document.querySelector("#option-color-2"),option3ColourEl=document.querySelector("#option-color-3"),previewCardEl=document.querySelector(".preview__card"),previewSectionEl=document.querySelector(".preview__section");function changeColourPreview(e){if(option1ColourEl.checked){fillUserDataObject(e.currentTarget.name,1),previewCardEl.classList.remove("theme-red"),previewCardEl.classList.remove("theme-blue"),previewCardEl.classList.add("theme-green"),previewSectionEl.classList.remove("bgc-color-blue"),previewSectionEl.classList.remove("bgc-color-red"),previewSectionEl.classList.add("bgc-color-green")}else if(option2ColourEl.checked){fillUserDataObject(e.currentTarget.name,2),previewCardEl.classList.remove("theme-green"),previewCardEl.classList.remove("theme-blue"),previewCardEl.classList.add("theme-red"),previewSectionEl.classList.remove("bgc-color-blue"),previewSectionEl.classList.remove("bgc-color-green"),previewSectionEl.classList.add("bgc-color-red")}else if(option3ColourEl.checked){fillUserDataObject(e.currentTarget.name,3),previewCardEl.classList.remove("theme-red"),previewCardEl.classList.remove("theme-green"),previewCardEl.classList.add("theme-blue"),previewSectionEl.classList.remove("bgc-color-red"),previewSectionEl.classList.remove("bgc-color-green"),previewSectionEl.classList.add("bgc-color-blue")}}option1ColourEl.addEventListener("click",changeColourPreview),option2ColourEl.addEventListener("click",changeColourPreview),option3ColourEl.addEventListener("click",changeColourPreview);const nameInputEl=document.querySelector("#fullName"),nameCardEl=document.querySelector(".full-name__card "),defaultName=nameCardEl.innerHTML;function printName2(e){fillUserDataObject(e.currentTarget.name,nameInputEl.value),nameCardEl.innerHTML=nameInputEl.value||defaultName}nameInputEl.addEventListener("keyup",printName2);const rolEl=document.querySelector("#rol"),ocupationPreviewEl=document.querySelector(".ocupation__card"),defectOcupationPreview=document.querySelector(".ocupation__card").innerHTML;function changeRolOnCard(e){const t=rolEl.value;fillUserDataObject(e.currentTarget.name,t),ocupationPreviewEl.innerHTML=t||defectOcupationPreview}rolEl.addEventListener("keyup",changeRolOnCard);const emailLink=document.querySelector("#email"),emailPreviewLink=document.querySelector(".email__card"),previewIconEmail=document.querySelector(".email-icon");function changeEmailOnCard(e){const t=emailLink.value;fillUserDataObject(e.currentTarget.name,t),t?(emailPreviewLink.href=`mailto:${t}`,addBoxshadowifFilled(emailLink,previewIconEmail)):emailPreviewLink.removeAttribute("href")}emailLink.addEventListener("keyup",changeEmailOnCard);const tlfInputEl=document.querySelector("#phoneNumber"),tlfElement=document.querySelector("#phoneNumber"),tlfCardImage=document.querySelector("#mobile-link"),tflCardInitial=tlfCardImage.innerHTML,tlfCardEl=document.querySelector("#mobile-link"),tflCardDefault=tlfCardEl.href,previewIconTelf=document.querySelector(".mobile-icon");function addBoxshadowifFilled(e,t){e.value?t.classList.add("addBoxShadow__IfInputIsFIlled"):t.classList.remove("addBoxShadow__IfInputIsFIlled")}function phonenumber(e){fillUserDataObject(e.currentTarget.name,tlfElement.value),tlfElement.value?tlfCardImage.href="tel:"+tlfElement.value:tlfCardImage.removeAttribute("href"),addBoxshadowifFilled(tlfInputEl,previewIconTelf)}tlfInputEl.addEventListener("keyup",phonenumber);const linkedinInputEl=document.querySelector("#linkedin"),linkedinCardEl=document.querySelector(".linkedin-link"),linkedinDefault=linkedinCardEl.href,previewIconLinkedin=document.querySelector(".linkedin-icon");function linkBottonLinkedin(e){const t=linkedinInputEl.value;t?linkedinCardEl.href=`https://www.linkedin.com/in/${t}`:linkedinCardEl.removeAttribute("href"),addBoxshadowifFilled(linkedinInputEl,previewIconLinkedin),fillUserDataObject(e.currentTarget.name,linkedinCardEl.href)}linkedinInputEl.addEventListener("keyup",linkBottonLinkedin);const githubEl=document.querySelector("#github"),githubLinkEl=document.querySelector(".link-github"),previewIconGitHub=document.querySelector(".github-icon");function putLinkIcon(e){const t=githubEl.value;t?githubLinkEl.href=`https://github.com/${t}`:githubLinkEl.removeAttribute("href"),addBoxshadowifFilled(githubEl,previewIconGitHub),fillUserDataObject(e.currentTarget.name,githubLinkEl.href)}githubEl.addEventListener("keyup",putLinkIcon);const panelsDropdownEl=document.querySelectorAll(".panel__dropdown"),panelDesignRadiosEl=document.querySelector(".panel__design-radios"),panelFillFormEl=document.querySelector(".panel__fill-form"),alignShareEl=document.querySelector(".align_share");function collapsiblePanel(e){panelDesignRadiosEl.classList.add("panel--close"),panelFillFormEl.classList.add("panel--close"),alignShareEl.classList.add("panel--close");const t=document.querySelector(".dropdown__arrow--up");t.classList.remove("dropdown__arrow--up"),t.classList.add("dropdown__arrow--down");const n=e.currentTarget,l=n.children[1];n.nextElementSibling.classList.remove("panel--close"),l.classList.remove("dropdown__arrow--down"),l.classList.add("dropdown__arrow--up"),twtPanelEl.classList.add("panel--close")}for(const e of panelsDropdownEl)e.addEventListener("click",collapsiblePanel);const btnShareEl=document.querySelector(".btn_share"),twtPanelEl=document.querySelector(".panel__twitter");function handlerCreateCard(e){e.preventDefault(),twtPanelEl.classList.toggle("panel--close"),btnShareEl.disabled=!0,btnShareEl.classList.toggle("btn_share--disabled"),sendRequest(userData)}btnShareEl.addEventListener("click",handlerCreateCard);const userData={palette:1,name:"",job:"",phone:"",email:"",linkedin:"",github:"",photo:""},ExUserData={palette:1,name:"Monster Terribilus",job:"Front-End",phone:"+34666666",email:"dontBeScare@gmail.com",linkedin:"linkedin.com/monsterYey",github:"monsterYey",photo:"data:image/png;base64,2342ba..."},fr=new FileReader,uploadBtn=document.querySelector(".js__profile-trigger"),fileField=document.querySelector(".js__profile-upload-btn"),profileImage=document.querySelector(".js__profile-image"),profilePreview=document.querySelector(".js__profile-preview");function getImage(e){const t=e.currentTarget.files[0];fr.addEventListener("load",writeImage),fr.readAsDataURL(t)}function writeImage(e){profileImage.style.backgroundImage=`url(${fr.result})`,profilePreview.style.backgroundImage=`url(${fr.result})`;fillUserDataObject("photo",fr.result)}function fakeFileClick(){fileField.click()}function fillUserDataObject(e,t){userData[e]=t}function sendRequest(e){fetch("https://us-central1-awesome-cards-cf6f0.cloudfunctions.net/card/",{method:"POST",body:JSON.stringify(e),headers:{"content-type":"application/json"}}).then(function(e){return e.json()}).then(function(e){showURL(e)}).catch(function(e){console.log(e)})}function showURL(e){if(e.success){createLinkTweet(e.cardURL)}else console.error(`Ha sucedido un error: ${error}`)}uploadBtn.addEventListener("click",fakeFileClick),fileField.addEventListener("change",getImage);const btnResetEl=document.querySelector(".reset__button"),inputsEl=document.querySelectorAll(".item__info"),nameEl=document.querySelector(".full-name__card");function emptyInputs(){for(const e of inputsEl)e.value=""}function emptyImg(){profileImage.style.backgroundImage="",profilePreview.style.backgroundImage=""}function ereaseLocalStorage(){localStorage.removeItem("palette"),localStorage.removeItem("name"),localStorage.removeItem("job"),localStorage.removeItem("phone"),localStorage.removeItem("email"),localStorage.removeItem("linkedin"),localStorage.removeItem("gitHub"),localStorage.removeItem("photo")}function ereaseUserDataObject(){userData.palette=1,userData.name="",userData.job="",userData.phone="",userData.linkedin="",userData.gitHub="",userData.photo=""}function handleButtonClick(){emptyImg(),emptyInputs(),printName2(),changeRolOnCard(),changeEmailOnCard(),phonenumber(),putLinkIcon(),linkBottonLinkedin(),option1ColourEl.click(),ereaseLocalStorage(),ereaseUserDataObject()}function createLinkTweet(e){const t=document.querySelector(".card-link");t.href=e,t.innerHTML=e;const n=document.querySelector(".twitter-share-button");n.href=n.href+e}btnResetEl.addEventListener("click",handleButtonClick);